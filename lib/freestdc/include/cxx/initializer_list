#ifndef _FREESTDC_CXX_INITIALIZER_LIST_
#define _FREESTDC_CXX_INITIALIZER_LIST_

#include <cstddef>

namespace std {
	template <class T>
	class initializer_list final {
	private:
		const T *_p;
		size_t _size;

		constexpr initializer_list(const T *p, size_t size) noexcept : _p(p), _size(size) {}

	public:
		using value_type = T;
		using reference = const T&;
		using const_reference = const T&;
		using size_type = size_t;

		using iterator = const T*;
		using const_iterator = const T*;

		constexpr initializer_list() noexcept : _p(nullptr), _size(0) {}

		constexpr size_t size() const noexcept { return _size; }

		constexpr const T *begin() const noexcept { return _p; }

		constexpr const T *end() const noexcept { return _p + _size; }
	};

	template <class T>
	constexpr inline const T *begin(initializer_list<T> init_list) noexcept {
		return init_list.begin();
	}

	template <class T>
	constexpr inline const T *end(initializer_list<T> init_list) noexcept {
		return init_list.end();
	}
}

#endif
